# ìƒì‚° ìµœì í™” ì‹œìŠ¤í…œ - ì˜¨í†¨ë¡œì§€ ì§€ì‹ ì‹œìŠ¤í…œ ì „í™˜ ê³„íš

## ğŸ“Š í˜„ì¬ ìƒíƒœ ë¶„ì„

### Tier 1: ë°ì´í„° ì €ì¥ì†Œ ìˆ˜ì¤€ (í˜„ì¬)
- âœ… ì˜¨í†¨ë¡œì§€ ìŠ¤í‚¤ë§ˆ ì˜ ì •ì˜ë¨
- âœ… ì¸ìŠ¤í„´ìŠ¤ ìƒì„± ë° ì €ì¥
- âŒ **ì¶”ë¡  ê¸°ëŠ¥ ë¯¸ì‚¬ìš©**
- âŒ **ì§€ì‹ ê¸°ë°˜ ê²€ì¦ ë¯¸ì‚¬ìš©**
- âŒ **ìë™ ì œì•½ì¡°ê±´ ë°œê²¬ ë¯¸ì‚¬ìš©**

### ë¬¸ì œì 
1. **ì˜¨í†¨ë¡œì§€ â†’ ë”•ì…”ë„ˆë¦¬ ë³€í™˜** ì˜¤ë²„í—¤ë“œ
2. **ë°ì´í„°ë² ì´ìŠ¤ì²˜ëŸ¼ë§Œ ì‚¬ìš©**í•˜ì—¬ ì˜¨í†¨ë¡œì§€ ê°€ì¹˜ ìƒì‹¤
3. **í•˜ë“œì½”ë”©ëœ ì œì•½ì¡°ê±´**ìœ¼ë¡œ í™•ì¥ì„± ë¶€ì¡±

## ğŸ¯ ì „í™˜ ëª©í‘œ: Tier 3 (ì§€ì‹ ì‹œìŠ¤í…œ)

### ìµœì¢… ëª©í‘œ
- **ì˜¨í†¨ë¡œì§€ ì¶”ë¡  í™œìš©**ìœ¼ë¡œ ìë™ ì œì•½ì¡°ê±´ ë°œê²¬
- **ì§€ëŠ¥ì  ê²€ì¦ ì‹œìŠ¤í…œ**ìœ¼ë¡œ í’ˆì§ˆ í–¥ìƒ
- **ë„ë©”ì¸ ì§€ì‹ ê¸°ë°˜** ìë™ ìµœì í™”

## ğŸš€ ì ì§„ì  ì „í™˜ ê³„íš

### Phase 1: ì˜¨í†¨ë¡œì§€ ê·œì¹™ ê¸°ë°˜ ì‹œìŠ¤í…œ êµ¬ì¶• (1-2ì£¼)

#### 1.1 ìŠ¤í‚¤ë§ˆ í™•ì¥ (3-4ì¼)
```python
# schema.pyì— ê·œì¹™ ë° ì œì•½ì¡°ê±´ í´ë˜ìŠ¤ ì¶”ê°€
class ì œí’ˆ_ì¹´í…Œê³ ë¦¬_ê·œì¹™(Thing):
    """ì œí’ˆ ì¹´í…Œê³ ë¦¬ë³„ ìë™ ì ìš© ê·œì¹™"""
    pass

class ë¼ì¸_í˜¸í™˜ì„±_ê·œì¹™(Thing):
    """ë¼ì¸ë³„ ì œí’ˆ í˜¸í™˜ì„± ê·œì¹™"""
    pass

class êµì²´_íš¨ìœ¨ì„±_ê·œì¹™(Thing):
    """ì œí’ˆ ê°„ êµì²´ íš¨ìœ¨ì„± ê·œì¹™"""
    pass

# ìë™ ì œì•½ì¡°ê±´ ì ìš© ê·œì¹™
Product.is_a.append(
    hasCategory.some(ë´‰ì§€ë©´) >> hasConstraint.some(ë´‰ì§€ë©´_ì œì•½ì¡°ê±´)
)
```

#### 1.2 ê·œì¹™ ì—”ì§„ ê¸°ë°˜ ì œì•½ì¡°ê±´ ê´€ë¦¬ (4-5ì¼)
```python
# ontology/rule_engine.py ì‹ ê·œ ìƒì„±
class OntologyRuleEngine:
    """ì˜¨í†¨ë¡œì§€ ê·œì¹™ ê¸°ë°˜ ì œì•½ì¡°ê±´ ìë™ ë°œê²¬"""
    
    def discover_product_constraints(self, product):
        """ì œí’ˆë³„ ìë™ ì œì•½ì¡°ê±´ ë°œê²¬"""
        pass
    
    def discover_line_constraints(self, line):
        """ë¼ì¸ë³„ ìë™ ì œì•½ì¡°ê±´ ë°œê²¬"""
        pass
    
    def discover_compatibility_rules(self):
        """ì œí’ˆ-ë¼ì¸ í˜¸í™˜ì„± ê·œì¹™ ë°œê²¬"""
        pass
```

#### 1.3 ê¸°ì¡´ ConstraintManagerì™€ í†µí•© (3-4ì¼)
```python
# constraint_manager.py ìˆ˜ì •
class ConstraintManager:
    def __init__(self, optimizer, rule_engine):
        self.rule_engine = rule_engine  # ê·œì¹™ ì—”ì§„ ì¶”ê°€
    
    def add_ontology_based_constraints(self):
        """ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ìë™ ì œì•½ì¡°ê±´ ì¶”ê°€"""
        # ê¸°ì¡´ í•˜ë“œì½”ë”©ëœ ì œì•½ì¡°ê±´ê³¼ ë³‘í–‰
        self._add_production_constraints()  # ê¸°ì¡´
        self._add_ontology_discovered_constraints()  # ì‹ ê·œ
```

### Phase 2: ì¶”ë¡  ì—”ì§„ í†µí•© (1-2ì£¼)

#### 2.1 ì¶”ë¡  ê¸°ëŠ¥ êµ¬í˜„ (5-6ì¼)
```python
# ontology/manager.pyì— ì¶”ë¡  ê¸°ëŠ¥ ì¶”ê°€
def apply_ontology_reasoning(self):
    """ì˜¨í†¨ë¡œì§€ ì¶”ë¡  ì‹¤í–‰"""
    from owlready2 import sync_reasoner
    
    # ì¶”ë¡  ì—”ì§„ ì‹¤í–‰
    sync_reasoner()
    
    # ì¶”ë¡ ëœ ì œì•½ì¡°ê±´ë“¤ ìë™ ì ìš©
    self._apply_inferred_constraints()
    self._apply_compatibility_rules()
```

#### 2.2 ì§€ëŠ¥ì  ì œì•½ì¡°ê±´ ê²€ì¦ (4-5ì¼)
```python
# ontology/constraint_validator.py í™•ì¥
def validate_with_ontology_reasoning(self, schedule):
    """ì˜¨í†¨ë¡œì§€ ì¶”ë¡ ì„ í™œìš©í•œ ì§€ëŠ¥ì  ê²€ì¦"""
    
    # ê¸°ì¡´ ê²€ì¦ ë¡œì§ê³¼ ë³‘í–‰
    basic_violations = self._validate_basic_constraints(schedule)
    ontology_violations = self._validate_with_ontology_rules(schedule)
    
    return basic_violations + ontology_violations
```

#### 2.3 ì„±ëŠ¥ ìµœì í™” (3-4ì¼)
```python
# ì¶”ë¡  ê²°ê³¼ ìºì‹± ë° ìµœì í™”
class OntologyCache:
    """ì˜¨í†¨ë¡œì§€ ì¶”ë¡  ê²°ê³¼ ìºì‹±"""
    
    def __init__(self):
        self.constraint_cache = {}
        self.compatibility_cache = {}
    
    def get_cached_constraints(self, product_id):
        """ìºì‹œëœ ì œì•½ì¡°ê±´ ë°˜í™˜"""
        pass
```

### Phase 3: ì™„ì „í•œ ì§€ì‹ ì‹œìŠ¤í…œ êµ¬ì¶• (2-3ì£¼)

#### 3.1 ìë™ ìµœì í™” ê·œì¹™ ì ìš© (1ì£¼)
```python
# ontology/optimization_rules.py ì‹ ê·œ ìƒì„±
class OntologyOptimizationEngine:
    """ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ìë™ ìµœì í™”"""
    
    def discover_optimization_patterns(self):
        """ìµœì í™” íŒ¨í„´ ìë™ ë°œê²¬"""
        pass
    
    def apply_learned_rules(self, schedule):
        """í•™ìŠµëœ ê·œì¹™ ìë™ ì ìš©"""
        pass
```

#### 3.2 ê¸°ì¡´ ì½”ë“œ ì™„ì „ í†µí•© (1-2ì£¼)
```python
# production_optimizer.py ì™„ì „ ì¬ì‘ì„±
def _extract_ontology_data(self):
    """ì˜¨í†¨ë¡œì§€ì—ì„œ ì§€ì‹ ê¸°ë°˜ìœ¼ë¡œ ë°ì´í„° ì¶”ì¶œ"""
    
    # ê¸°ì¡´ ë”•ì…”ë„ˆë¦¬ ë³€í™˜ ì½”ë“œ ì œê±°
    # ì˜¨í†¨ë¡œì§€ ê¸°ë°˜ ì§ì ‘ ì ‘ê·¼
    self.products = list(self.onto.Product.instances())
    self.lines = list(self.onto.Line.instances())
    
    # ì œì•½ì¡°ê±´ ìë™ ë°œê²¬
    self.constraints = self.ontology_manager.discover_constraints()
```

## ğŸ“… ì „í™˜ ì¼ì •

| Phase | ê¸°ê°„ | ì£¼ìš” ì‘ì—… | ê¸°ì¡´ ì½”ë“œ ì˜í–¥ë„ |
|-------|------|-----------|------------------|
| **Phase 1** | 1-2ì£¼ | ê·œì¹™ ì—”ì§„ êµ¬ì¶• | **ë‚®ìŒ** (ì¶”ê°€ë§Œ) |
| **Phase 2** | 1-2ì£¼ | ì¶”ë¡  ì—”ì§„ í†µí•© | **ì¤‘ê°„** (ë¶€ë¶„ ìˆ˜ì •) |
| **Phase 3** | 2-3ì£¼ | ì™„ì „ í†µí•© | **ë†’ìŒ** (ëŒ€í­ ìˆ˜ì •) |

**ì´ ì˜ˆìƒ ê¸°ê°„: 4-7ì£¼**

## ğŸ”„ ì „í™˜ ì „ëµ

### 1. **ë³‘í–‰ ìš´ì˜ ë°©ì‹**
- ê¸°ì¡´ ì‹œìŠ¤í…œ ìœ ì§€í•˜ë©´ì„œ ì ì§„ì  ì „í™˜
- ê° Phase ì™„ë£Œ í›„ ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ê²€ì¦
- ë¬¸ì œ ë°œìƒ ì‹œ ì´ì „ ë‹¨ê³„ë¡œ ë¡¤ë°± ê°€ëŠ¥

### 2. **ë‹¨ê³„ë³„ ê²€ì¦**
```python
# ê° Phase ì™„ë£Œ í›„ ê²€ì¦
def validate_phase_completion(phase_number):
    """Phase ì™„ë£Œ ê²€ì¦"""
    if phase_number == 1:
        return self._validate_rule_engine()
    elif phase_number == 2:
        return self._validate_reasoning_engine()
    elif phase_number == 3:
        return self._validate_complete_system()
```

### 3. **ì„±ëŠ¥ ëª¨ë‹ˆí„°ë§**
```python
# ì„±ëŠ¥ ì§€í‘œ ëª¨ë‹ˆí„°ë§
class PerformanceMonitor:
    def __init__(self):
        self.metrics = {
            'constraint_discovery_time': [],
            'reasoning_execution_time': [],
            'memory_usage': [],
            'overall_optimization_time': []
        }
```

## ğŸ¯ ê¸°ëŒ€ íš¨ê³¼

### Phase 1 ì™„ë£Œ í›„
- **ìë™ ì œì•½ì¡°ê±´ ë°œê²¬**ìœ¼ë¡œ ê°œë°œ ì‹œê°„ ë‹¨ì¶•
- **ê·œì¹™ ê¸°ë°˜ ê´€ë¦¬**ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

### Phase 2 ì™„ë£Œ í›„
- **ì§€ëŠ¥ì  ê²€ì¦**ìœ¼ë¡œ í’ˆì§ˆ í–¥ìƒ
- **ì¶”ë¡  ê¸°ë°˜ ìµœì í™”**ë¡œ ì„±ëŠ¥ ê°œì„ 

### Phase 3 ì™„ë£Œ í›„
- **ì™„ì „í•œ ì§€ì‹ ì‹œìŠ¤í…œ**ìœ¼ë¡œ í™•ì¥ì„± ëŒ€í­ í–¥ìƒ
- **ë„ë©”ì¸ ì§€ì‹ ìë™ í™œìš©**ìœ¼ë¡œ ì¸ì  ì˜¤ë¥˜ ìµœì†Œí™”

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. **ì„±ëŠ¥ ì˜í–¥**
- ì¶”ë¡  ì—”ì§„ ì‹¤í–‰ìœ¼ë¡œ ì´ˆê¸° ì§€ì—° ë°œìƒ ê°€ëŠ¥
- ìºì‹± ì „ëµìœ¼ë¡œ ì„±ëŠ¥ ìµœì í™” í•„ìš”

### 2. **ë°ì´í„° ì¼ê´€ì„±**
- ê¸°ì¡´ JSON ë°ì´í„°ì™€ ì˜¨í†¨ë¡œì§€ ìŠ¤í‚¤ë§ˆ ì¼ì¹˜ì„± í™•ì¸
- ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± í•„ìš”

### 3. **í…ŒìŠ¤íŠ¸ ì „ëµ**
- ê° Phaseë³„ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ë° í†µí•© í…ŒìŠ¤íŠ¸
- ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° ë¶€í•˜ í…ŒìŠ¤íŠ¸ í•„ìˆ˜

## ğŸš€ ì‹œì‘í•˜ê¸°

### Phase 1 ì‹œì‘
```bash
# 1. ê·œì¹™ ì—”ì§„ ê°œë°œ í™˜ê²½ ì„¤ì •
conda activate ontology
pip install owlready2

# 2. ìŠ¤í‚¤ë§ˆ í™•ì¥ ì‘ì—… ì‹œì‘
# ontology/schema.py ìˆ˜ì •

# 3. ê·œì¹™ ì—”ì§„ êµ¬í˜„
# ontology/rule_engine.py ì‹ ê·œ ìƒì„±
```

## ğŸ“‹ ì²´í¬ë¦¬ìŠ¤íŠ¸

### Phase 1 ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ìŠ¤í‚¤ë§ˆ í™•ì¥ ì™„ë£Œ
- [ ] ê·œì¹™ ì—”ì§„ êµ¬í˜„ ì™„ë£Œ
- [ ] ConstraintManager í†µí•© ì™„ë£Œ
- [ ] Phase 1 í…ŒìŠ¤íŠ¸ í†µê³¼

### Phase 2 ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ì¶”ë¡  ê¸°ëŠ¥ êµ¬í˜„ ì™„ë£Œ
- [ ] ì§€ëŠ¥ì  ê²€ì¦ ì‹œìŠ¤í…œ ì™„ë£Œ
- [ ] ì„±ëŠ¥ ìµœì í™” ì™„ë£Œ
- [ ] Phase 2 í…ŒìŠ¤íŠ¸ í†µê³¼

### Phase 3 ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ìë™ ìµœì í™” ì—”ì§„ ì™„ë£Œ
- [ ] ê¸°ì¡´ ì½”ë“œ ì™„ì „ í†µí•©
- [ ] ì „ì²´ ì‹œìŠ¤í…œ í…ŒìŠ¤íŠ¸ í†µê³¼
- [ ] ì„±ëŠ¥ ê²€ì¦ ì™„ë£Œ

---

**ì´ ê³„íšìœ¼ë¡œ ì§„í–‰í•˜ì‹œê² ìŠµë‹ˆê¹Œ? íŠ¹ì • Phaseë‚˜ ì„¸ë¶€ì‚¬í•­ì— ëŒ€í•´ ë” ìì„¸íˆ ì•Œê³  ì‹¶ìœ¼ì‹œë‹¤ë©´ ë§ì”€í•´ ì£¼ì„¸ìš”!**
